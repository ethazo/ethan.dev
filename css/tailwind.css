@import 'tailwindcss';
@plugin "@tailwindcss/forms";
@plugin '@tailwindcss/typography';
@source '../node_modules/pliny';
@custom-variant dark (&:where(.dark, .dark *));


/* =======================
   核心主题变量
======================= */
@theme {
  --font-sans: 'Outfit', ui-sans-serif, system-ui, sans-serif;
  --line-height-11: 2.75rem;
  --line-height-12: 3rem;
  --line-height-13: 3.25rem;
  --line-height-14: 3.5rem;

  /* Primary colors */
  --color-primary-400: #7aa2f7;
  --color-primary-500: #7aa2f7;
  --color-primary-600: #7aa2f7;

  /* Gray colors */
  --color-gray-50: #f9fafb;
  --color-gray-100: #f3f4f6;
  --color-gray-200: #e5e7eb;
  --color-gray-300: #d1d5db;
  --color-gray-400: #9ca3af;
  --color-gray-500: #6b7280;
  --color-gray-600: #4b5563;
  --color-gray-700: #374151;
  --color-gray-800: #1f2937;
  --color-gray-900: #111827;

  --color-dark: #1a1b26;
  --color-spotify: #1db954;
  --color-coral: #ef596f;

  --z-60: 60;
  --z-70: 70;
  --z-80: 80;
}

/* =======================
   Base 样式
======================= */
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentColor);
  }

  a,
  button {
    outline-color: var(--color-primary-500);
  }

  a:focus-visible,
  button:focus-visible {
    outline: 2px solid;
    border-radius: 0.25rem;
    outline-color: var(--color-primary-500);
  }
}

/* =======================
   Utilities 样式
======================= */
@layer utilities {
  /* Typography */
  .prose {
    & a {
      color: var(--color-primary-500);
      &:hover {
        color: var(--color-primary-600);
      }
      & code {
        color: var(--color-primary-400);
      }
    }
    & :where(h1, h2) {
      font-weight: 700;
      letter-spacing: -0.025em;
    }
    & h3 {
      font-weight: 600;
    }
    & :where(code):not(pre code) {
      color: #6366f1;
    }
  }

  .prose-invert {
    & a {
      color: var(--color-primary-500);
      &:hover {
        color: var(--color-primary-400);
      }
      & code {
        color: var(--color-primary-400);
      }
    }
    & :where(h1, h2, h3, h4, h5, h6) {
      color: var(--color-gray-100);
    }
  }

  /* START: CSS popular tags */
  .popular-tags .javascript {
    @apply bg-amber-400;
  }

  .popular-tags .typescript {
    @apply bg-blue-500;
  }

  .popular-tags .nestjs {
    @apply bg-rose-500;
  }

  .popular-tags .react {
    @apply bg-sky-500;
  }

  .popular-tags .devops {
    @apply bg-sky-600;
  }

  .popular-tags .database {
    @apply bg-green-900;
  }
  /* END: CSS popular tags */

  /* Task list / footnotes */
  .task-list-item::before {
    @apply hidden;
  }
  .task-list-item {
    @apply list-none;
  }
  .footnotes {
    @apply mt-12 border-t border-gray-200 pt-8 dark:border-gray-700;
  }
  .data-footnote-backref {
    @apply no-underline;
  }
  .csl-entry {
    @apply my-5;
  }

  /* Scrollbar */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  /* Autofill */
  input:-webkit-autofill,
  input:-webkit-autofill:focus {
    transition:
      background-color 600000s 0s,
      color 600000s 0s;
  }

  /* KaTeX */
  .katex-display {
    overflow: auto hidden;
  }

  /* Content header link */
  .content-header-link {
    opacity: 0;
    margin-left: -24px;
    padding-right: 4px;
  }
  .content-header:hover .content-header-link,
  .content-header-link:hover {
    opacity: 1;
  }

  .linkicon {
    display: inline-block;
    vertical-align: middle;
  }

  /* =======================
     Animations
  ======================== */
  @keyframes wave-animation {
    0% {
      transform: rotate(0deg);
    }
    10% {
      transform: rotate(14deg);
    }
    20% {
      transform: rotate(-8deg);
    }
    30% {
      transform: rotate(14deg);
    }
    40% {
      transform: rotate(-4deg);
    }
    50% {
      transform: rotate(10deg);
    }
    60% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(0deg);
    }
  }
  .animate-wave {
    animation: wave-animation 2.5s linear infinite;
  }

  @keyframes music-bar-1 {
    0%,
    100% {
      height: 0%;
    }
    50% {
      height: 70%;
    }
  }
  @keyframes music-bar-2 {
    0%,
    100% {
      height: 50%;
    }
    25% {
      height: 0%;
    }
    75% {
      height: 100%;
    }
  }
  @keyframes music-bar-3 {
    0%,
    100% {
      height: 70%;
    }
    15% {
      height: 100%;
    }
    65% {
      height: 0%;
    }
  }
  @keyframes music-bar-4 {
    0%,
    100% {
      height: 50%;
    }
    35.7% {
      height: 0%;
    }
    85.7% {
      height: 70%;
    }
  }
  @keyframes scale-up {
    0% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.18);
    }
    100% {
      transform: scale(1);
    }
  }

  .animate-music-bar-1 {
    animation: music-bar-1 0.8s linear infinite;
  }
  .animate-music-bar-2 {
    animation: music-bar-2 0.8s linear infinite;
  }
  .animate-music-bar-3 {
    animation: music-bar-3 0.8s linear infinite;
  }
  .animate-music-bar-4 {
    animation: music-bar-4 0.8s linear infinite;
  }
  .animate-scale-up {
    animation: scale-up 150ms ease-in-out forwards;
  }

  /* Box shadow */
  .shadow-nextjs {
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
  }
  .shadow-nextjs-dark {
    box-shadow: 0 8px 20px rgba(255, 255, 255, 0.12);
  }

  /* Spacing */
  .aspect-9\/16 {
    padding-top: 56.25%;
  }

  /* Line height */
  .leading-11 {
    line-height: 2.75rem;
  }
  .leading-12 {
    line-height: 3rem;
  }
  .leading-13 {
    line-height: 3.25rem;
  }
  .leading-14 {
    line-height: 3.5rem;
  }

  /* Font family */
  .font-sans {
    font-family: var(--font-sans);
  }

  /* Colors */
  .text-primary-400 {
    color: var(--color-primary-400);
  }
  .text-primary-500 {
    color: var(--color-primary-500);
  }
  .text-primary-600 {
    color: var(--color-primary-600);
  }
  .bg-dark {
    background-color: var(--color-dark);
  }
  .text-spotify {
    color: var(--color-spotify);
  }
  .text-coral {
    color: var(--color-coral);
  }

  /* Z-index */
  .z-60 {
    z-index: 60;
  }
  .z-70 {
    z-index: 70;
  }
  .z-80 {
    z-index: 80;
  }
}
